This is the multi-Doppler retrieval software written by John Gamache at NOAA/AOML/HRD.It consists of a radial velocity and reflectivity interpolation to a Cartesian grid (wind_interpolate) followed by the wind synthesis (wind3_fill). Sample job files are provided for both programs.First, Dorade sweep files need to be converted to Universal format using the 'swp2uf' script,then the job files modified for the grid of interest. wind_interpolate is very CPU intensive,and wind3_fill is both CPU and memory intensive. wind3_fill requires a 64-bit machine (all Intel Macs and most newer Linux boxes). Expect ~2.2 GB memory usage per 1 million gridpoints (i.e. 250x250x37 = ~5 GB RAM). Both programs dynamically allocate memory for the grid of interest, with a maximum of 512 gridpoints in either X or Y and 80 in Z. The total combination of gridpoints cannot exceed 20 million, but your machine will probably run out of memory before that. 
A sample usage is shown below:

% cd /path/to/workspace
% mkdir swp
% mkdir uf
% vi swp2uf
(Modify TIME_LIMITS to match data period of interest, then copy relevant data to 'swp' subdirectory)
% ./swp2uf
(Modify job_interp using ufd.* filename generated by swp2uf, lat/lon of origin, size of grid, and advection speed and time if desired --see job_wind_interpolate_doc.txt for description of jobfile)
% ./wind_interpolate.mac name_of_jobfile
(or .linux depending on your OS, it will ask you for a command file where you enter 'job_interp'
WAIT, it will take a while. If it is taking too long, reduce the size of your grid or the amount of radar data. It also runs longer if the UF files are not located on the local disk. I recommend using reorder/cedric to define your grid since it is much quicker to rerun those programs than wind_interpolate. When complete, modify job_wind3 and make sure the grid information matches that in the job_interp file)
% ./wind3_fill.mac name_of_jobfile
(WAIT, you will see the iterations proceeding and it will end when convergence is reached.)

The output (*.w) file is in a flat binary format with a header that is fairly easy to read using fortran. Some sample code that reads the file is included in the src/io directory. driver_write.f and w2grads.f contain the main templates for the I/O.  Binaries to convert to cedric and grads formats are included. Follow the prompts to give the name of the wind file without the .w suffix, and the programs will create corresponding files with .ced, .dat/.ctl extensions accordingly.

A postprocessing script that uses cedric to calculate auxiliary variables, interpolating hole-filling, and minimal filtering (1-step Leise scale filter) is also included. Feel free to modify that script to suit your needs. The output of the cedric postprocessing can be further converted to netCDF or grads using the provided Perl scripts. The netCDF script requires a separately built NetCDF.pm module available from CPAN.

Please reference the following publication if you use this code for your analysis, and acknowledge NCAR/EOL and the National Science Foundation when using ELDORA data.
Reasor, P.D., M.D. Eastin, and J.F. Gamache, 2009:  Rapidly  Intensifying Hurricane Guillermo (1997). Part I: Low-Wavenumber Structure and Evolution. Mon. Wea. Rev., 137, 603â€“631.

Email me if you have questions.

-Michael Bell

09/28/09 - Modified 'wind3_fill' for dynamic memory usage.
02/10/10 - Bug fixes related to 0.0 dBZ holes and large grid memory usage.
